
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Composeä¸­çš„IntrinsicSizeå®æˆ˜æŒ‡å— - ç¨€æœ‰çŒ¿è¯‰</title>
  <meta name="author" content="Alex Hilton">

  
  <meta name="description" content="è¯¦ç»†åœ°ä»‹ç»Jetpack Composeä¸­çš„IntrinsicSizeçš„ç”¨æ³•ï¼Œå½“Compose å¸ƒå±€éœ€è¦å…ˆâ€œæŸ¥çœ‹â€å…¶å­å…ƒç´ æ—¶ï¼Œå®ƒå°±æ´¾ä¸Šäº†ç”¨åœºã€‚">
  <meta name="keywords" content="Jetpack Compose, Layout">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://alexhilton.github.io/blog/2026/02/02/mastering-intrisnicsize">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="ç¨€æœ‰çŒ¿è¯‰" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/toolbar.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.lug.ustc.edu.cn/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.lug.ustc.edu.cn/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- for Gitment -->
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">

<!-- for favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">ç¨€æœ‰çŒ¿è¯‰</a></h1>
  
    <h2>åå¹´ç£¨ä¸€å‰‘ï¼Œå†ç‚¼å‡ºé”‹èŠ’ï¼Œè¯´è¯åƒç™¾å¥ï¼Œä¸å¦‚ç äºŒè¡Œã€‚</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com.hk/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:alexhilton.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/donation">Donation</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Composeä¸­çš„IntrinsicSizeå®æˆ˜æŒ‡å—</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2026-02-02'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2026</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><blockquote><p>æœ¬æ–‡è¯‘è‡ªã€ŒMastering IntrinsicSize in Jetpack Compose: A Real-World Guideã€ï¼ŒåŸæ–‡é“¾æ¥<a href="https://proandroiddev.com/mastering-intrinsicsize-in-jetpack-compose-a-real-world-guide-a57ab90c6556">https://proandroiddev.com/mastering-intrinsicsize-in-jetpack-compose-a-real-world-guide-a57ab90c6556</a>ï¼Œç”±Sehaj kahlonå‘å¸ƒäº2026å¹´1æœˆ24æ—¥ã€‚</p></blockquote>

<p><a href="/blog/2026/02/02/mastering-intrisnicsize/"><img src="https://miro.medium.com/v2/resize:fit:1400/1*5575GBQlUI38hH2ThTnGBQ.png" title="auto auto" ></a></p>

<!-- more -->


<p>å¦‚æœä½ ä¸€ç›´åœ¨ä½¿ç”¨ Jetpack Composeï¼Œä½ å¯èƒ½é‡åˆ°è¿‡å¸ƒå±€è¡Œä¸ºä¸é¢„æœŸä¸ç¬¦çš„ä»¤äººæ²®ä¸§çš„æƒ…å†µã€‚ä¹Ÿè®¸æ˜¯ <code>Box</code> ä¸­çš„ <code>weight()</code> ä¿®é¥°ç¬¦å¯¼è‡´äº†å¥‡æ€ªçš„è¡Œä¸ºï¼Œæˆ–è€…ä½ çš„åˆ†å±‚ UI å…ƒç´ å¤§å°ä¸æ­£ç¡®ã€‚</p>

<p>è¿™æ—¶ <strong><code>IntrinsicSize</code></strong> å°±æ´¾ä¸Šç”¨åœºäº†â€”â€”ç›¸ä¿¡æˆ‘ï¼Œä¸€æ—¦ä½ ç†è§£äº†å®ƒï¼Œå®ƒå°†æˆä¸ºä½  Compose å·¥å…·ç®±ä¸­æœ€å¼ºå¤§çš„å·¥å…·ä¹‹ä¸€ã€‚</p>

<h2>é—®é¢˜ï¼šä¸€ä¸ªçœŸå®çš„ç”Ÿäº§åœºæ™¯</h2>

<p>æœ€è¿‘ï¼Œæˆ‘æ­£åœ¨ä¸ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ„å»ºè¯¦æƒ…é¡µé¢ã€‚è®¾è®¡è¦æ±‚ï¼š</p>

<ol>
<li><p>é¡¶éƒ¨æ”¾ç½®ä¸€å¼ <strong>æ ‡é¢˜å›¾ç‰‡</strong></p></li>
<li><p>ä¸€å¼ <strong>å¡ç‰‡</strong>ï¼Œä¸æ ‡é¢˜å›¾ç‰‡é‡å  56dp</p></li>
<li><p>ä»æ ‡é¢˜å›¾ç‰‡åˆ°æŸ”å’Œç°è‰²èƒŒæ™¯çš„<strong>å¹³æ»‘è¿‡æ¸¡</strong></p></li>
</ol>


<p>æˆ‘ä»¬æƒ³è¦å®ç°çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>

<blockquote><p><strong><em>ğŸ’¡ è®¾è®¡ç›®æ ‡ï¼š</em></strong> <em>åˆ›å»ºä¸€ä¸ªå¡ç‰‡ï¼Œä½¿å…¶ä¼˜é›…åœ°ä¸æ ‡é¢˜å›¾ç‰‡é‡å ï¼Œå¹¶å®ç°æ— ç¼çš„èƒŒæ™¯è¿‡æ¸¡ã€‚</em></p></blockquote>

<p><img src="https://miro.medium.com/v2/resize:fit:904/1*7wqxO7TLyV_oaH9wQxz6pw.png" alt="" /></p>

<h2>æŒ‘æˆ˜</h2>

<p>æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤å±‚çš„â€œç›’å­Boxâ€ï¼š</p>

<ul>
<li><p><strong>å›¾å±‚ 1ï¼ˆèƒŒæ™¯ï¼‰ï¼š</strong> é¡¶éƒ¨ 56dp çš„é€æ˜åŒºåŸŸï¼Œç„¶åæ˜¯æŸ”å’Œçš„ç°è‰²èƒŒæ™¯</p></li>
<li><p><strong>å›¾å±‚ 2ï¼ˆå¡ç‰‡ï¼‰ï¼š</strong> ç»˜åˆ¶åœ¨é¡¶éƒ¨çš„å®é™…å¡ç‰‡å†…å®¹</p></li>
</ul>


<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªä½œå“å°è¯•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">@Composable</span>
</span><span class='line'><span class="k">fun</span> <span class="nf">OverlappingCardContent</span><span class="p">(</span><span class="n">overlapHeight</span><span class="p">:</span> <span class="n">Dp</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Box</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Layer 1: Background</span>
</span><span class='line'>        <span class="n">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">Spacer</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">overlapHeight</span><span class="p">))</span> <span class="c1">// 56dp transparent</span>
</span><span class='line'>            <span class="n">Box</span><span class="p">(</span>
</span><span class='line'>                <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">)</span>  <span class="c1">// Fill remaining space with soft background</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">background</span><span class="p">(</span><span class="n">color</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">LightGray</span><span class="p">)</span>
</span><span class='line'>            <span class="p">)</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// Layer 2: Card</span>
</span><span class='line'>        <span class="n">Card</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">// Card content...</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>ä½†æ˜¯è¿™è¡Œä¸é€šï¼</strong> ğŸ˜©</p>

<p><code>weight(1f)</code>ä¿®é¥°ç¬¦å¯¼è‡´äº†é—®é¢˜ã€‚å¸ƒå±€è¦ä¹ˆæ„å¤–åœ°æŠ˜å ï¼Œè¦ä¹ˆæ„å¤–åœ°å±•å¼€ã€‚</p>

<h2>äº†è§£æ ¹æœ¬åŸå› </h2>

<p>ä¸ºäº†ç†è§£ä¸ºä»€ä¹ˆä¼šå¤±è´¥ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ Compose å¸ƒå±€çš„å·¥ä½œåŸç†ã€‚</p>

<h3>Compose å¸ƒå±€ï¼šå•éç³»ç»Ÿ</h3>

<p>ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒCompose å¸ƒå±€é‡‡ç”¨<strong>å•æ¬¡éå†</strong>æ–¹å¼æµ‹é‡å¸ƒå±€ã€‚æ¯ä¸ªå¯ç»„åˆå…ƒç´ ï¼š</p>

<ol>
<li><p>ä»çˆ¶å…ƒç´ æ¥æ”¶çº¦æŸ</p></li>
<li><p>æµ‹é‡å…¶å­å…ƒç´ </p></li>
<li><p>ç¡®å®šè‡ªèº«å¤§å°</p></li>
<li><p>æ”¾ç½®å…¶å­å…ƒç´ </p></li>
</ol>


<p>é—®é¢˜åœ¨äºï¼šå½“åƒ <code>Box</code> è¿™æ ·çš„çˆ¶å…ƒç´ æµ‹é‡å…¶å­å…ƒç´ æ—¶ï¼Œæ¯ä¸ªå­å…ƒç´ éƒ½ä¸çŸ¥é“å…¶ä»–å­å…ƒç´ çš„å¤§å°ã€‚å®ƒä»¬æ˜¯ç‹¬ç«‹æµ‹é‡çš„ã€‚</p>

<h2>ä¸ºä»€ä¹ˆ <code>weight(1f)</code> ä¼šå¤±è´¥</h2>

<p><code>weight()</code> ä¿®é¥°ç¬¦è¡¨ç¤ºï¼šâ€œå æ®å‰©ä½™ç©ºé—´çš„ X å€ã€‚â€</p>

<p>ä½†æ˜¯å‰©ä½™ç©ºé—´æŒ‡çš„æ˜¯<strong>ä»€ä¹ˆ</strong>ï¼Ÿ<code>Box</code> å…ƒç´ å°šæœªç¡®å®šè‡ªèº«é«˜åº¦â€”â€”å®ƒæ­£åœ¨ç­‰å¾…å­å…ƒç´ å‘ŠçŸ¥å…¶è‡ªèº«å¤§å°ã€‚è¿™ä¼šé€ æˆå¾ªç¯ä¾èµ–ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Box: <span class="s2">&quot;Children, how tall are you?&quot;</span>
</span><span class='line'>  â”œâ”€ Column: <span class="s2">&quot;I need 56dp + whatever weight(1f) gives me&quot;</span>
</span><span class='line'>  â”‚
</span><span class='line'>
</span><span class='line'>  <span class="s2">&quot;But weight depends on your height, Box!&quot;</span>
</span><span class='line'>  â””â”€ Card: <span class="s2">&quot;I need ~180dp for my content&quot;</span>  Box: <span class="s2">&quot;I&#39;m confused...&quot;</span> ğŸ¤¯
</span></code></pre></td></tr></table></div></figure>


<h2>å¼•å…¥ IntrinsicSizeï¼šæ‰“ç ´å¾ªç¯ä¾èµ–</h2>

<p><code>IntrinsicSize</code> æ˜¯ Compose åœ¨å®é™…æµ‹é‡ä¹‹å‰å‘å­å…ƒç´ è¯¢é—®ä¸€ä¸ª<strong>å‡è®¾æ€§é—®é¢˜</strong> çš„æ–¹å¼ï¼š</p>

<blockquote><p><strong><em>â€œå¦‚æœæˆ‘ç»™ä½ æ— é™çš„ç©ºé—´ï¼Œä½ éœ€è¦çš„æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰é«˜åº¦æ˜¯å¤šå°‘ï¼Ÿâ€</em></strong></p></blockquote>

<h2>IntrinsicSize.Min ä¸ IntrinsicSize.Max</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*IUoEVdIal11Nwn3WFG6w0A.png" alt="" /></p>

<h2>ä¿®å¤</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">Box</span><span class="p">(</span>
</span><span class='line'>    <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>        <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>        <span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">IntrinsicSize</span><span class="p">.</span><span class="n">Min</span><span class="p">)</span>  <span class="c1">// â† The magic line!</span>
</span><span class='line'><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Layer 1: Background</span>
</span><span class='line'>    <span class="n">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">Spacer</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="m">56.</span><span class="n">dp</span><span class="p">))</span>
</span><span class='line'>        <span class="n">Box</span><span class="p">(</span>
</span><span class='line'>            <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>                <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>                <span class="p">.</span><span class="n">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">)</span>
</span><span class='line'>                <span class="p">.</span><span class="n">background</span><span class="p">(</span><span class="n">color</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">LightGray</span><span class="p">)</span>
</span><span class='line'>        <span class="p">)</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Layer 2: Card</span>
</span><span class='line'>    <span class="n">Card</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Card content...</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç°åœ¨å¸ƒå±€æ­£å¸¸äº†ï¼åŸå› å¦‚ä¸‹ï¼š</p>

<h2>IntrinsicSize.Min å¦‚ä½•è§£å†³å†²çª</h2>

<p>å½“ <code>Box</code> ä½¿ç”¨ <code>height(IntrinsicSize.Min)</code> æ—¶ï¼Œå®ƒä¼šè¯¢é—®æ¯ä¸ªå­å…ƒç´ ï¼š</p>

<p><strong>åˆ—çš„æœ€å°å›ºæœ‰é«˜åº¦ï¼š</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Spacer: 56dp <span class="o">(</span>fixed<span class="o">)</span>
</span><span class='line'>Weighted Box: 0dp <span class="o">(</span>minimum, can shrink to nothing<span class="o">)</span>
</span><span class='line'>Total: 56dp
</span></code></pre></td></tr></table></div></figure>


<p><strong>å¡ç‰‡çš„æœ€å°å›ºæœ‰é«˜åº¦ï¼š</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Status row + Title + Subtitle + Button + <span class="nv">Padding</span> <span class="o">=</span> ~180dp
</span><span class='line'>Total: ~180dp
</span></code></pre></td></tr></table></div></figure>


<p><strong>Box é€‰æ‹©ï¼š</strong> <code>max(56dp, 180dp)</code> = <strong>180dp</strong></p>

<p>ä¸ºä»€ä¹ˆæ˜¯ <code>max()</code>ï¼Ÿå› ä¸º Box çš„é«˜åº¦éœ€è¦è¶³ä»¥å®¹çº³<strong>æ‰€æœ‰</strong>å­å…ƒç´ ï¼</p>

<p>ç°åœ¨å¸ƒå±€å®Œå…¨çŸ¥é“å¦‚ä½•é«˜åº¦è¦åˆé€‚ï¼Œ<code>weight(1f)</code> å¯ä»¥æ­£å¸¸å·¥ä½œï¼š</p>

<ul>
<li><p>ç›’å­é«˜åº¦ï¼š180dp</p></li>
<li><p>é—´è·ï¼š56dp</p></li>
<li><p>åŠ æƒèƒŒæ™¯ç›’å­ï¼š180dp â€” 56dp = <strong>124dp</strong></p></li>
</ul>


<h2>å®Œæ•´è§£å†³æ–¹æ¡ˆï¼šé‡å å¡ç‰‡å¼ UI</h2>

<p>ä»¥ä¸‹æ˜¯æ”¯æŒæ­¤ UI çš„æœ€ç»ˆä»£ç ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="k">private</span> <span class="k">val</span> <span class="py">OVERLAP_HEIGHT</span> <span class="p">=</span> <span class="m">56.</span><span class="n">dp</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">@Composable</span>
</span><span class='line'><span class="k">fun</span> <span class="nf">HeaderWithOverlappingCard</span><span class="p">(</span><span class="n">imageHeight</span><span class="p">:</span> <span class="n">Dp</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">LazyColumn</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Create overlap: position content before header ends</span>
</span><span class='line'>        <span class="n">item</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">Spacer</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">imageHeight</span> <span class="p">-</span> <span class="n">OVERLAP_HEIGHT</span><span class="p">))</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">item</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">OverlappingCardContent</span><span class="p">(</span><span class="n">overlapHeight</span> <span class="p">=</span> <span class="n">OVERLAP_HEIGHT</span><span class="p">)</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">@Composable</span>
</span><span class='line'><span class="k">fun</span> <span class="nf">OverlappingCardContent</span><span class="p">(</span><span class="n">overlapHeight</span><span class="p">:</span> <span class="n">Dp</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Box</span><span class="p">(</span>
</span><span class='line'>        <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>            <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>            <span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">IntrinsicSize</span><span class="p">.</span><span class="n">Min</span><span class="p">)</span>
</span><span class='line'>    <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Layer 1: Background transition</span>
</span><span class='line'>        <span class="n">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">Spacer</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">overlapHeight</span><span class="p">))</span> <span class="c1">// Transparent over header</span>
</span><span class='line'>            <span class="n">Box</span><span class="p">(</span>
</span><span class='line'>                <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">)</span>
</span><span class='line'>                    <span class="p">.</span><span class="n">background</span><span class="p">(</span><span class="n">color</span> <span class="p">=</span> <span class="n">SoftGrayBackground</span><span class="p">)</span>
</span><span class='line'>            <span class="p">)</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// Layer 2: Card content (drawn on top)</span>
</span><span class='line'>        <span class="n">Card</span><span class="p">(</span>
</span><span class='line'>            <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>                <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>                <span class="p">.</span><span class="n">padding</span><span class="p">(</span><span class="n">horizontal</span> <span class="p">=</span> <span class="m">8.</span><span class="n">dp</span><span class="p">),</span>
</span><span class='line'>            <span class="n">shape</span> <span class="p">=</span> <span class="n">RoundedCornerShape</span><span class="p">(</span><span class="m">12.</span><span class="n">dp</span><span class="p">)</span>
</span><span class='line'>        <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">Column</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">padding</span><span class="p">(</span><span class="m">24.</span><span class="n">dp</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">Text</span><span class="p">(</span><span class="s">&quot;âœ“ Success&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">Green</span><span class="p">)</span>
</span><span class='line'>                <span class="n">Text</span><span class="p">(</span><span class="s">&quot;â‚¹100 Cashback&quot;</span><span class="p">,</span> <span class="n">style</span> <span class="p">=</span> <span class="n">MaterialTheme</span><span class="p">.</span><span class="n">typography</span><span class="p">.</span><span class="n">h4</span><span class="p">)</span>
</span><span class='line'>                <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Transaction complete&quot;</span><span class="p">)</span>
</span><span class='line'>                <span class="n">Spacer</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="m">16.</span><span class="n">dp</span><span class="p">))</span>
</span><span class='line'>                <span class="n">Button</span><span class="p">(</span><span class="n">onClick</span> <span class="p">=</span> <span class="p">{})</span> <span class="p">{</span> <span class="n">Text</span><span class="p">(</span><span class="s">&quot;View Details&quot;</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>å¯è§†åŒ–åˆ†è§£</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">imageHeight</span> <span class="p">=</span> <span class="m">200</span><span class="n">dp</span>
</span><span class='line'><span class="n">overlapHeight</span> <span class="p">=</span> <span class="m">56</span><span class="n">dp</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>LazyColumn positions:
</span><span class='line'>â”œâ”€ Spacer: 144dp <span class="o">(</span><span class="m">200</span> - 56<span class="o">)</span>
</span><span class='line'>â””â”€ OverlappingCardContent starts at <span class="nv">Y</span> <span class="o">=</span> 144dp
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Inside OverlappingCardContent <span class="o">(</span><span class="nv">height</span> <span class="o">=</span> 180dp via IntrinsicSize.Min<span class="o">)</span>:
</span><span class='line'>â”œâ”€ Column Layer:
</span><span class='line'>â”‚   â”œâ”€ Spacer: 56dp <span class="o">(</span>transparent, header shows through<span class="o">)</span>
</span><span class='line'>â”‚   â””â”€ Background Box: 124dp <span class="o">(</span>soft gray<span class="o">)</span>
</span><span class='line'>â””â”€ Card Layer: 180dp <span class="o">(</span>drawn from top, overlaps header<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>IntrinsicSize çš„å¸¸è§ç”¨ä¾‹</h2>

<h3>1. ä¸€è¡Œä¸­é«˜åº¦ç›¸åŒçš„æŒ‰é’®</h3>

<p><strong>é—®é¢˜ï¼š</strong> æ–‡æœ¬é•¿åº¦ä¸åŒçš„æŒ‰é’®æœ€ç»ˆé«˜åº¦ä¹Ÿä¸åŒã€‚</p>

<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">Row</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">IntrinsicSize</span><span class="p">.</span><span class="n">Min</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Button</span><span class="p">(</span>
</span><span class='line'>        <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="n">fillMaxHeight</span><span class="p">(),</span>
</span><span class='line'>        <span class="n">onClick</span> <span class="p">=</span> <span class="p">{}</span>
</span><span class='line'>    <span class="p">)</span> <span class="p">{</span> <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Short&quot;</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Button</span><span class="p">(</span>
</span><span class='line'>        <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">weight</span><span class="p">(</span><span class="m">1f</span><span class="p">).</span><span class="n">fillMaxHeight</span><span class="p">(),</span>
</span><span class='line'>        <span class="n">onClick</span> <span class="p">=</span> <span class="p">{}</span>
</span><span class='line'>    <span class="p">)</span> <span class="p">{</span> <span class="n">Text</span><span class="p">(</span><span class="s">&quot;This is a much\nlonger button\nwith more text&quot;</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>ç»“æœï¼š</strong> ä¸¤ä¸ªæŒ‰é’®çš„é«˜åº¦éƒ½ä¸æœ€é«˜çš„æŒ‰é’®é«˜åº¦ç›¸åŒã€‚</p>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*IubiRLP4sFk4rl-uvLwwKA.png" alt="" /></p>

<h3>2. åˆ†éš”çº¿ä¸çˆ¶å…ƒç´ é«˜åº¦åŒ¹é…</h3>

<p><strong>é—®é¢˜ï¼š</strong> åˆ†éš”çº¿æ— æ³•æ‹‰ä¼¸ä»¥åŒ¹é…å¤šè¡Œå†…å®¹ã€‚</p>

<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">Row</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">IntrinsicSize</span><span class="p">.</span><span class="n">Min</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Left content\nwith multiple\nlines&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Divider</span><span class="p">(</span>
</span><span class='line'>        <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>            <span class="p">.</span><span class="n">fillMaxHeight</span><span class="p">()</span>
</span><span class='line'>            <span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="m">1.</span><span class="n">dp</span><span class="p">)</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Right&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>ç»“æœï¼š</strong> åˆ†éš”çº¿å¯ä»¥æ‹‰ä¼¸ä»¥åŒ¹é…å¤šè¡Œæ–‡æœ¬çš„é«˜åº¦ã€‚</p>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*nFJrnQVIaT7Kfh70JDofOA.png" alt="" /></p>

<h3>3. å¸¦æœ‰åŠ¨æ€å†…å®¹å’Œå›ºå®šè¦†ç›–å±‚çš„å¡ç‰‡</h3>

<p><strong>é—®é¢˜ï¼š</strong> è¦†ç›–å±‚éœ€è¦ä¸å¡ç‰‡å®½åº¦åŒ¹é…ï¼Œä½†å¡ç‰‡å®½åº¦æ˜¯åŠ¨æ€çš„ã€‚</p>

<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='kotlin'><span class='line'><span class="n">Box</span><span class="p">(</span><span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="n">IntrinsicSize</span><span class="p">.</span><span class="n">Max</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">Card</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">Column</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Dynamic content here...&quot;</span><span class="p">)</span>
</span><span class='line'>            <span class="c1">// More content</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Badge that should match card width</span>
</span><span class='line'>    <span class="n">Badge</span><span class="p">(</span>
</span><span class='line'>        <span class="n">modifier</span> <span class="p">=</span> <span class="n">Modifier</span>
</span><span class='line'>            <span class="p">.</span><span class="n">align</span><span class="p">(</span><span class="n">Alignment</span><span class="p">.</span><span class="n">TopEnd</span><span class="p">)</span>
</span><span class='line'>            <span class="p">.</span><span class="n">fillMaxWidth</span><span class="p">()</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>æ€§èƒ½ç›¸å…³æ³¨æ„äº‹é¡¹ âš ï¸</h2>

<p><code>IntrinsicSize</code> ä¼šè§¦å‘<strong>ä¸¤éæµ‹é‡</strong>ï¼š</p>

<ol>
<li><p>ç¬¬ä¸€éï¼šæŸ¥è¯¢å›ºæœ‰å°ºå¯¸</p></li>
<li><p>ç¬¬äºŒéï¼šå®é™…æµ‹é‡å’Œå¸ƒå±€</p></li>
</ol>


<p>è¿™ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚è°¨æ…ä½¿ç”¨ï¼š</p>

<h2>âœ… é€‚ç”¨åœºæ™¯</h2>

<ul>
<li><p>å¤æ‚çš„åˆ†å±‚ UIï¼ˆä¾‹å¦‚æˆ‘ä»¬çš„é‡å å¡ç‰‡ï¼‰</p></li>
<li><p>ä½¿åŒçº§å…ƒç´ å¤§å°ä¸€è‡´</p></li>
<li><p>ä½¿åˆ†éš”ç¬¦/åˆ†éš”çº¿ä¸å†…å®¹åŒ¹é…</p></li>
<li><p>éœ€è¦å­å…ƒç´ åè°ƒå¤§å°æ—¶</p></li>
</ul>


<h2>âŒ é¿å…ä½¿ç”¨åœºæ™¯</h2>

<ul>
<li><p>åœ¨å¯èƒ½ä¼šé‡å¤æ•°ç™¾æ¬¡çš„ <code>LazyColumn</code>/<code>LazyRow</code> å…ƒç´ ä¸­</p></li>
<li><p>æ·±åº¦åµŒå¥—çš„å›ºæœ‰å°ºå¯¸</p></li>
<li><p>å½“å›ºå®šå°ºå¯¸æˆ– <code>wrapContentHeight()</code> å¯ä»¥æ»¡è¶³éœ€æ±‚æ—¶</p></li>
<li><p>åœ¨æ€§èƒ½å…³é”®è·¯å¾„ä¸­</p></li>
</ul>


<h2>è¦ç‚¹</h2>

<ol>
<li><p><strong><code>IntrinsicSize.Min</code></strong> = &ldquo;ä½¿ç”¨å­å…ƒç´ æ‰€éœ€çš„æœ€å°é«˜åº¦&rdquo;</p></li>
<li><p><strong><code>IntrinsicSize.Max</code></strong> = &ldquo;ä½¿ç”¨å­å…ƒç´ å¯èƒ½éœ€è¦çš„æœ€å¤§é«˜åº¦&rdquo;</p></li>
<li><p>å®ƒè§£å†³äº†çˆ¶å…ƒç´ å’Œå­å…ƒç´ å°ºå¯¸ä¹‹é—´çš„å¾ªç¯ä¾èµ–å…³ç³»</p></li>
<li><p>å¯¹äºå­å…ƒç´ ä½¿ç”¨ <code>weight()</code> æˆ– <code>fillMaxHeight()</code> çš„åˆ†å±‚ UI è‡³å…³é‡è¦</p></li>
<li><p>ä¼šå¸¦æ¥æ€§èƒ½å¼€é”€â€”â€”è¯·è°¨æ…ä½¿ç”¨</p></li>
</ol>


<h2>ç»“è®º</h2>

<p><code>IntrinsicSize</code> çœ‹ä¼¼æ˜¯ä¸€ä¸ªå°ä¼—çš„ APIï¼Œä½†å®ƒå¯¹äºåœ¨ Compose ä¸­æ„å»ºå¤æ‚çš„ UI è‡³å…³é‡è¦ã€‚æˆ‘ä»¬æ„å»ºçš„é‡å å¡ç‰‡æ¨¡å¼åªæ˜¯å…¶ä¸­ä¸€ä¸ªä¾‹å­â€”â€”å½“ä½ éœ€è¦åè°ƒåŒçº§å…ƒç´ çš„å¤§å°ï¼Œæˆ–è€…å½“åˆ†å±‚å¸ƒå±€éœ€è¦â€œç»Ÿä¸€â€å°ºå¯¸æ—¶ï¼Œä½ ä¼šå‘ç°å®ƒéå¸¸å®ç”¨ã€‚</p>

<p>ä¸‹æ¬¡å½“ä½ çš„ Compose å¸ƒå±€åœ¨ä½¿ç”¨ <code>weight()</code> æˆ– <code>fillMaxHeight()</code> æ—¶å‡ºç°å¼‚å¸¸è¡Œä¸ºæ—¶ï¼Œè¯·è®°ä½ï¼š<strong>IntrinsicSize æˆ–è®¸èƒ½å¸®ä½ è§£å†³é—®é¢˜</strong>ã€‚</p>

<p><em>å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®æˆ–å‘ç°äº† IntrinsicSize çš„å…¶ä»–åˆ›æ„ç”¨æ³•ï¼Œè¯·åœ¨ä¸‹æ–¹ç•™è¨€ï¼</em></p>

<p><strong>å…³æ³¨æˆ‘ï¼Œè·å–æ›´å¤š Android å¼€å‘æŠ€å·§ã€‚</strong></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Alex Hilton</span></span>

      




<time class='entry-date' datetime='2026-02-02'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2026</span></span> <span class='time'>12:00 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/compose/'>compose</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
  
    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style_32x32">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2026/01/30/compose-stability-analyzer/" title="Previous Post: Jetpack Composeé‡ç»„ç¨³å®šæ€§åˆ†æå™¨">&laquo; Jetpack Composeé‡ç»„ç¨³å®šæ€§åˆ†æå™¨</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="comments"></div>
    <!-- Duoshuo COMMENT BEGIN -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var clientId = 'bc66a01ef24d14fc282b'
    var clientSecret = 'c7fd5e55db1776204fe201fe20c050b140982884'
    var gitment = new Gitment({
      id: 'toughcoder.net',
      owner: 'alexhilton',
      repo: 'alexhilton.github.io',
      oauth: {
        client_id: clientId,
        client_secret: clientSecret,
      },
    })

    gitment.render('comments')
</script>
<!-- Duoshuo COMMENT END -->

  </section>

</div>

<aside class="sidebar">
  
    <section>
    <div class="
        col-lg-2 col-lg-offset-0
        visible-lg-block
        sidebar-container
        catalog-container">
        <div class="side-catalog">
            <hr class="hidden-sm hidden-xs">
            <h3>
                <a class="catalog-toggle" href="#">CATALOG</a>
            </h3>
            <ul class="catalog-body"></ul>
        </div>
    </div>
</section>
<!-- Back to top and Scroll to bottom -->
<a href="#" class="cd-top"></a>
<a href="#" class="cd-bottom"></a>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2026 - Alex Hilton -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  









<script type="text/javascript">
    //async load function 
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }

    function generateCatalog (selector) {
        var P = $('article'),a,n,t,l,i,c, id;
        a = P.find('h2,h3,h4,h5,h6');
        var index = 0;
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            id = $(this).prop('id');
            if (!id) {
                var nid = 'catalog-section-' + index;
                $(this).attr('id', nid);
                i = '#' + nid;
            } else {
                i = '#' + id;
            }
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
            index++;
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/javascripts/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });

// Navigation Scripts to Show Header on Scroll-Up
jQuery(document).ready(function($) {
    var MQL = 1170;

    //primary navigation slide-in effect
    if ($(window).width() > MQL) {
        // We do not have the sticky nav bar so, first can be zero
        var headerHeight = 0;
        $('nav').each(function() {
            var h = $(this).outerHeight(true);
            headerHeight += h;
        });
        $('header').each(function() {
            var h = $(this).outerHeight(true);
            headerHeight += h;
        });
        $(window).on('scroll', {
                previousTop: 0
            },
            function() {
                var currentTop = $(window).scrollTop(),
                    $catalog = $('.side-catalog');

                this.previousTop = currentTop;

                //adjust the appearance of side-catalog
                $catalog.show()
                if (currentTop > (headerHeight + 42)) {
                    $catalog.addClass('fixed')
                } else {
                    $catalog.removeClass('fixed')
                }
            });
    }
});
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3fab3b1bae08e6d4a5e638d9e8c6f40a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


</body>
</html>
