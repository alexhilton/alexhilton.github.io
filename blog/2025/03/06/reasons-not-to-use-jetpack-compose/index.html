
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>不使用Jetpack Compose的10个理由 - 稀有猿诉</title>
  <meta name="author" content="Alex Hilton">

  
  <meta name="description" content="详细地介绍一些不适合使用Jetpack Compose的实际用例和场景，帮助Android开发者做出最合适的选择。">
  <meta name="keywords" content="Jetpack Compose, Android">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://alexhilton.github.io/blog/2025/03/06/reasons-not-to-use-jetpack-compose">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="稀有猿诉" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/toolbar.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.lug.ustc.edu.cn/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.lug.ustc.edu.cn/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- for Gitment -->
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">

<!-- for favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">稀有猿诉</a></h1>
  
    <h2>十年磨一剑，历炼出锋芒，说话千百句，不如码二行。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com.hk/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:alexhilton.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/donation">Donation</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">不使用Jetpack Compose的10个理由</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2025-03-06T22:25:19+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2025</span></span> <span class='time'>10:25 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><blockquote><p>本文译自<a href="https://sonique6784.medium.com/10-reasons-to-not-use-jetpack-compose-719de5d37c9e">10 reasons to NOT use Jetpack Compose</a>，原文发布于2024年9月24日。</p></blockquote>

<p><strong>译者按：</strong> 软件开发行业从不缺少优秀的工具，当然也没有银弹。身为开发者要学会选择合适的工具，避免出现手里拿着锤子，看什么都是钉子。那么就需要搞清楚两个事情，一个是面临的到底是什么样的问题，以及每种工具它的合适场景是什么。没有对与错，只有合适不合适。这篇文章就是帮助大家更清晰地了解到Jetpack Compose适用的场景，帮助Android开发者做出最合适的选择。</p>

<h2>简介</h2>

<p>Jetpack Compose 是一款出色的 UI 工具包，受到 Android 社​​区的热烈欢迎。它提供了一种为你的 Android 应用构建令人愉悦的 UI 的现代方式。</p>

<p><a href="/blog/2025/03/06/reasons-not-to-use-jetpack-compose/"><img src="https://www.sixt.tech/assets/jetpack-compose/jetpack-compose.png" title="auto auto" ></a></p>

<!-- more -->


<p>我确实喜欢 Jetpack Compose，但与任何技术一样，它也有一些注意事项。在本文中，我们将了解在什么情况下使用 View 系统更为明智以及原因。</p>

<h2>1. 尽可能减少依赖</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSFMClR4UbDbGhkXdfHhqg.png" alt="Compose Dependencies" /></p>

<p>如果你需要尽可能少的依赖项，这可能是出于兼容性或安全性目的，那么使用 View 系统可能会更好。View 系统不需要额外的导入。它位于 Android 系统内部，与 Jetpack Compose 不同，后者需要大量依赖项，这会增加包占用空间和运行时的内存使用量，并为额外的风险打开大门。</p>

<h2>2. 性能</h2>

<p>View 系统自 Android 的第一个版本以来就一直存在，它非常成熟，15 年来已经进行了大量优化，对于复杂的布局，其性能通常比 Jetpack Compose 更好。Jetpack Compose 在每次迭代中都在改进，有时已经比 View 更好，请关注这个领域，View 可能很快就会失去性能之王的桂冠！</p>

<h2>3. Espresso测试</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xEebB2vruLxuGrxeoePu0g.png" alt="Espresso测试" /></p>

<p>如果你有大量基于 View 的 Espresso 测试，或者想要使用 Android Studio 中的测试记录功能，最好避免使用 Jetpack Compose，或者只考虑将 Jetpack Compose 用于新的页面。无法轻松将于View 的 Espresso 测试迁移到 Compose。此外<a href="https://developer.android.com/studio/test/other-testing-tools/espresso-test-recorder">记录 Espresso 测试功能</a>不适用于 Compose。但是，可以<a href="https://developer.android.com/develop/ui/compose/testing">手动编写 Espresso </a>来测试 Compose。</p>

<h2>4. 稳定性和成熟度</h2>

<p>我们在「性能」部分简要提到了这一点。Jetpack Compose 已有 3 年历史，每次发布都会有所改进，但有时可能会出现错误。此外，许多 Compose 功能仍处于实验阶段，需要注解才能使用。使用实验性功能可能会给你的业务带来潜在的问题。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='Kotlin'><span class='line'><span class="c1">// 有些特性，如Modifier，Layout和Material Design是实验性质的，需要显式的用OptInt。</span>
</span><span class='line'><span class="n">@OptIn</span><span class="p">(</span><span class="n">ExperimentalMaterialApi</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
</span><span class='line'><span class="n">@OptIn</span><span class="p">(</span><span class="n">@ExperimentalFoundationApi</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
</span><span class='line'><span class="n">@OptIn</span><span class="p">(</span><span class="n">ExperimentalComposeUiApi</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
</span><span class='line'><span class="n">@OptIn</span><span class="p">(</span><span class="n">ExperimentalLayoutApi</span><span class="o">::</span><span class="k">class</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果你需要非常高的成熟度和稳定性，你可能希望坚持使用View 系统。</p>

<h2>5. 功能缺失</h2>

<p>View 系统是 Android 历史的一部分。许多 Android 功能首先在 View 上可用，然后移植到 Compose，通常 Compose 可能只提供一个包装器（例如 Google Maps）。因此，你可能希望保留 View 系统，直到这些功能在 Compose 上可用。请注意，你可以使用 AndroidView 访问那些仅限 View 的功能，Compose 最终会实现这一点。</p>

<h2>6. 广泛应用于现有应用中</h2>

<p>在你的职业生涯中，你很可能需要处理 View。许多大公司即使采用了 Jetpack Compose，仍然使用 View。将 View 页面迁移到 Compose 可能会带来高昂的成本，而对最终客户而言，价值相对较低。大多数公司选择逐步采用 Compose，使用 View 系统来维护较旧的 UI。你可能需要 View 技能才能有效地将 View 转换为 Compose。</p>

<h2>7.APK 大小</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MyanicOBr--xVFZUqSaxEg.png" alt="APK大小" /></p>

<p>如果你担心软件包的大小，你可以重新考虑是否采用 Jetpack Compose。它将使你的软件包大小至少<a href="https://www.reddit.com/r/androiddev/comments/1c5vjhi/i_see_your_enterprisegrade_jetpack_compose_11mb/">增加几MB</a>，虽然你可以启用<a href="https://r8.googlesource.com/r8/+/refs/heads/master/compatibility-faq.md#r8-full-mode"> R8 完整模式</a>以进一步减小大小。但是，View 系统的占用的额外空间几乎为零，因为组件是系统的一部分，不需要额外的库。</p>

<h2>8. 与旧设备的兼容性</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-GWYdBlBQfjl4jHLexP7Q.png" alt="老旧设备你" /></p>

<p>Jetpack Compose 最高可兼容 Android API 21（Lollipop🍭 、Android 5.0）。如果你想要针对性地适配以前的 Android 版本，则必须使用 View。</p>

<h2>9. 嵌入和物联网设备</h2>

<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WMYdpUZ4oDT6Axy2GSp0CQ.png" alt="物联网设备" /></p>

<p>单一用途的设备（自助服务终端、支付终端、自助结账）通常只运行一个应用，并且 CPU 和 RAM 资源有限。对于这些设备来说，Jetpack Compose 可能太重了，可能需要 Android 开发人员使用 View 系统来适应设备规格。这些设备也可能运行比较旧的Android版本，如 4.0 版。</p>

<h2>10. 你不想学习新东西</h2>

<p>也许你已经接近职业生涯的尾声，或者想要转到其他领域，那么在某些情况下，学习 Jetpack Compose 是没有意义的。学习曲线有点陡峭，因为与 View 相比，这是一种非常新的 UI 开发方法。不过，学习它可能很有用，因为其他框架（如 React 和 Flutter）也使用了某些类似的原理。</p>

<h2>结论</h2>

<p>Jetpack Compose 是一款出色的 UI 工具包，无疑是 Android 的未来，但它并不是唯一的 UI 工具包，View 已经证明它工作得很好，虽然有些人认为它是遗留的，但最好选择适合你的需求和限制的框架。
无论你选择哪种框架，玩得开心！Android 开发丰富多样，作为 Android 开发人员，我们的职责就是利用这些优势。</p>

<p>感谢你阅读本文，希望你喜欢并学到一些东西。请帮忙点赞，以表示你的支持！</p>

<p>本文由<a href="http://androiddev.news/"> Android 开发者新闻</a>赞助，在<a href="https://play.google.com/store/apps/details?id=sonique.fr.adn"> Play 商店下载</a>应用程序。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Alex Hilton</span></span>

      




<time class='entry-date' datetime='2025-03-06T22:25:19+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2025</span></span> <span class='time'>10:25 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/compose/'>compose</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
  
    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style_32x32">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2025/03/01/understanding-memory-leaks/" title="Previous Post: 理解Android中的内存泄漏以及如何让LeakCanary来帮忙">&laquo; 理解Android中的内存泄漏以及如何让LeakCanary来帮忙</a>
      
      
        <a class="basic-alignment right" href="/blog/2025/03/07/understanding-algorithm-tarjan/" title="Next Post: Understanding Algorithm Tarjan">Understanding Algorithm Tarjan &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="comments"></div>
    <!-- Duoshuo COMMENT BEGIN -->
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var clientId = 'bc66a01ef24d14fc282b'
    var clientSecret = 'c7fd5e55db1776204fe201fe20c050b140982884'
    var gitment = new Gitment({
      id: 'toughcoder.net',
      owner: 'alexhilton',
      repo: 'alexhilton.github.io',
      oauth: {
        client_id: clientId,
        client_secret: clientSecret,
      },
    })

    gitment.render('comments')
</script>
<!-- Duoshuo COMMENT END -->

  </section>

</div>

<aside class="sidebar">
  
    <section>
    <div class="
        col-lg-2 col-lg-offset-0
        visible-lg-block
        sidebar-container
        catalog-container">
        <div class="side-catalog">
            <hr class="hidden-sm hidden-xs">
            <h3>
                <a class="catalog-toggle" href="#">CATALOG</a>
            </h3>
            <ul class="catalog-body"></ul>
        </div>
    </div>
</section>
<!-- Back to top and Scroll to bottom -->
<a href="#" class="cd-top"></a>
<a href="#" class="cd-bottom"></a>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2025 - Alex Hilton -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  









<script type="text/javascript">
    //async load function 
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }

    function generateCatalog (selector) {
        var P = $('article'),a,n,t,l,i,c, id;
        a = P.find('h2,h3,h4,h5,h6');
        var index = 0;
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            id = $(this).prop('id');
            if (!id) {
                var nid = 'catalog-section-' + index;
                $(this).attr('id', nid);
                i = '#' + nid;
            } else {
                i = '#' + id;
            }
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
            index++;
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/javascripts/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });

// Navigation Scripts to Show Header on Scroll-Up
jQuery(document).ready(function($) {
    var MQL = 1170;

    //primary navigation slide-in effect
    if ($(window).width() > MQL) {
        // We do not have the sticky nav bar so, first can be zero
        var headerHeight = 0;
        $('nav').each(function() {
            var h = $(this).outerHeight(true);
            headerHeight += h;
        });
        $('header').each(function() {
            var h = $(this).outerHeight(true);
            headerHeight += h;
        });
        $(window).on('scroll', {
                previousTop: 0
            },
            function() {
                var currentTop = $(window).scrollTop(),
                    $catalog = $('.side-catalog');

                this.previousTop = currentTop;

                //adjust the appearance of side-catalog
                $catalog.show()
                if (currentTop > (headerHeight + 42)) {
                    $catalog.addClass('fixed')
                } else {
                    $catalog.removeClass('fixed')
                }
            });
    }
});
</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3fab3b1bae08e6d4a5e638d9e8c6f40a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


</body>
</html>
